<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Schedule Setup – test</title>

  <!-- Tailwind (for basic styling) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Flowbite core (components) -->
  <link  href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.5.1/flowbite.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.5.1/flowbite.min.js"></script>

  <!-- ✅ Flowbite Datepicker (separate library!) -->
  <link  href="https://cdnjs.cloudflare.com/ajax/libs/flowbite-datepicker/1.3.3/datepicker.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite-datepicker/1.3.3/datepicker.min.js"></script>

  <style>
    body { background:#0b0b0b; color:#fff; }
    .card { background:#111; border-radius:14px; box-shadow:0 10px 30px rgba(0,0,0,.25) }
    /* Centre the popup like Google Calendar */
    .datepicker[role="dialog"] { 
      position: fixed !important; 
      top: 50% !important; left: 50% !important; 
      transform: translate(-50%,-50%) !important;
      z-index: 9999;
      border-radius: 12px;
    }
    /* Spondle green selected circle */
    .datepicker-cell.selected { background:#22c55e !important; color:#fff !important; border-radius:50% !important; }
  </style>
</head>
<body class="min-h-screen flex items-start justify-center p-6">
  <div class="card w-full max-w-xl p-6">
    <h1 class="text-3xl font-bold mb-6">Schedule Setup</h1>

    <label class="block text-sm text-gray-300 mb-2">From</label>
    <input id="fromDate" type="text" readonly
      class="w-full p-3 rounded-lg bg-[#0f172a] border border-gray-700 focus:border-green-500 focus:ring-green-500"
      placeholder="Select date (DD/MM/YYYY)" />

    <div class="mt-6">
      <label class="block text-sm text-gray-300 mb-2">To</label>
      <input id="toDate" type="text" readonly
        class="w-full p-3 rounded-lg bg-[#0f172a] border border-gray-700 focus:border-green-500 focus:ring-green-500"
        placeholder="Select date (DD/MM/YYYY)" />
    </div>
  </div>

  <script>
    // Safety check: make sure the datepicker lib is actually loaded
    if (!window.Datepicker) {
      console.error("Flowbite Datepicker is missing. Check the CDN includes for flowbite-datepicker.");
    }

    const today = new Date();
    const fmt = d => `${String(d.getDate()).padStart(2,'0')}/${String(d.getMonth()+1).padStart(2,'0')}/${d.getFullYear()}`;

    const fromEl = document.getElementById('fromDate');
    const toEl   = document.getElementById('toDate');
    fromEl.value = fmt(today);
    toEl.value   = fmt(today);

    // Initialize popups
    const fromPicker = new Datepicker(fromEl, { autohide:true, defaultDate: today, language: 'en-GB' });
    const toPicker   = new Datepicker(toEl,   { autohide:true, defaultDate: today, language: 'en-GB' });

    // Open on click
    fromEl.addEventListener('click', () => fromPicker.show());
    toEl.addEventListener('click',   () => toPicker.show());
  </script>
</body>
</html>
