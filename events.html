<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Spondle â€” Events</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand"><span class="logo"></span><a href="index.html">Spondle</a></div>
      <div class="actions">
        <a class="btn primary" href="events.html">Explore Events</a>
        <a class="btn" href="organisers.html">For Organisers</a>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="section">
      <h1>Explore Events</h1>
      <p class="tagline">Find events by category, location, or date. (Search and filters coming soon!)</p>
    </section>

    <section class="section" id="results">
      <div class="grid" id="grid"></div>
    </section>
  </main>

  <footer>
    <div class="container foot"><div>Â© <span id="y"></span> Spondle</div></div>
  </footer>

  <script>document.getElementById('y').textContent = new Date().getFullYear();</script>
  <!-- Optional: app.js; if missing weâ€™ll render sample cards -->
  <script src="app.js"></script>
  <script>
    const grid = document.getElementById('grid');

    // Try to use real events if app.js is present
    const hasApp = typeof window.SpondleApp !== 'undefined' && typeof SpondleApp.getAllEvents === 'function';
    const events = hasApp ? SpondleApp.getAllEvents() : [];

    if (events.length) {
      grid.innerHTML = events.map(ev => `
        <article class="card">
          <a href="event.html?id=${ev.id}" style="display:block;color:inherit">
            <div class="thumb"><span class="badge">${ev.city || ''} â€¢ ${ev.dateLabel || ''}</span>${ev.category || ''}</div>
            <div class="content">
              <h3>${ev.title}</h3>
              <p class="meta">${ev.venue || ''}${ev.time ? ' â€¢ '+ev.time : ''}</p>
              <div class="row"><span class="chip">${ev.price || 'Free'}</span><span class="muted">Details â†’</span></div>
            </div>
          </a>
        </article>
      `).join('');
    } else {
      // Sample cards as fallback
      grid.innerHTML = `
        <article class="card">
          <a href="event.html?id=sample-1" style="display:block;color:inherit">
            <div class="thumb"><span class="badge">Bristol â€¢ 12 Sep</span>ğŸµ Live Music</div>
            <div class="content"><h3>The Harbourside Sessions</h3><p class="meta">The Louisiana</p><div class="row"><span class="chip">Free Entry</span><span class="muted">Details â†’</span></div></div>
          </a>
        </article>
        <article class="card">
          <a href="event.html?id=sample-2" style="display:block;color:inherit">
            <div class="thumb"><span class="badge">Manchester â€¢ 14 Sep</span>ğŸ­ Comedy</div>
            <div class="content"><h3>Friday Night Laughs</h3><p class="meta">Northern Quarter</p><div class="row"><span class="chip">Â£12</span><span class="muted">Details â†’</span></div></div>
          </a>
        </article>
        <article class="card">
          <a href="event.html?id=sample-3" style="display:block;color:inherit">
            <div class="thumb"><span class="badge">Cardiff â€¢ 15 Sep</span>ğŸ Community</div>
            <div class="content"><h3>Riverside Street Food</h3><p class="meta">Market Square</p><div class="row"><span class="chip">Family</span><span class="muted">Details â†’</span></div></div>
          </a>
        </article>
      `;
    }
  </script>
</body>
</html>
