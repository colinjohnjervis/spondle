<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Spondle â€” Find events near you</title>
  <link rel="stylesheet" href="styles.css?v=10"/>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand"><span class="logo"></span><a href="index.html">Spondle</a></div>
      <div class="actions">
        <a class="btn primary" href="events.html">Explore Events</a>
        <a class="btn" href="favourites.html">
          Favourites <span class="badge" data-fav-count style="display:none">0</span>
        </a>
        <a class="btn" href="organisers.html">For Organisers</a>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="hero section">
      <h1>Discover great events across the UK</h1>
      <p class="tagline">Music, comedy, film, community and more â€” all in one place.</p>
      <div class="cta-row">
        <a class="btn primary" href="events.html">Browse all events</a>
        <a class="btn" href="organisers.html">List your event</a>
      </div>
    </section>

    <section class="section">
      <h2>Featured this week</h2>
      <div class="grid" id="homeGrid"></div>
    </section>
  </main>

  <footer>
    <div class="container foot"><div>Â© <span id="y"></span> Spondle</div></div>
  </footer>

  <script>document.getElementById('y').textContent = new Date().getFullYear();</script>
  <script src="favs.js?v=3"></script>
  <script>
    const EVENTS = [
      { id:"sample-1", title:"The Harbourside Sessions", city:"Bristol",   dateLabel:"12 Sep", venue:"The Louisiana",    time:"19:30â€“22:30", price:"Free Entry",   category:"Live Music" },
      { id:"sample-2", title:"Friday Night Laughs",       city:"Manchester",dateLabel:"14 Sep", venue:"Northern Quarter", time:"20:00â€“22:00", price:"Â£12",          category:"Comedy" },
      { id:"sample-3", title:"Riverside Street Food",     city:"Cardiff",   dateLabel:"15 Sep", venue:"Market Square",    time:"11:00â€“17:00", price:"Family",       category:"Community" },
      { id:"sample-6", title:"Outdoor Cinema Night",      city:"Brighton",  dateLabel:"22 Sep", venue:"Brighton Seafront",time:"20:30â€“23:00", price:"Â£10",          category:"Film" },
      { id:"sample-9", title:"Open Mic Poetry Night",     city:"Liverpool", dateLabel:"30 Sep", venue:"The Verse Bar",    time:"19:00â€“22:00", price:"Free Entry",   category:"Arts & Culture" },
    ];

    const homeGrid = document.getElementById("homeGrid");

    function renderHome(list){
      homeGrid.innerHTML = list.map(ev=>{
        const heart = Favs.has(ev.id) ? "â™¥" : "â™¡";
        return `
          <article class="card">
            <a href="event.html?id=${ev.id}" style="display:block;color:inherit">
              <div class="thumb"><span class="badge">${ev.city} â€¢ ${ev.dateLabel}</span> ðŸŽ« ${ev.category}</div>
              <div class="content">
                <h3>${ev.title}</h3>
                <p class="meta">${ev.venue}${ev.time ? ' â€¢ '+ev.time : ''}</p>
                <div class="row"><span class="chip">${ev.price || 'Free'}</span><span class="muted">Details â†’</span></div>
              </div>
            </a>
            <button class="fav-overlay" data-fav="${ev.id}" aria-pressed="${Favs.has(ev.id) ? 'true':'false'}" title="Save">${heart}</button>
          </article>
        `;
      }).join('');

      homeGrid.querySelectorAll('button[data-fav]').forEach(btn=>{
        btn.addEventListener('click', (e)=>{
          e.preventDefault(); e.stopPropagation();
          const id = btn.getAttribute('data-fav');
          const now = Favs.toggle(id);
          btn.setAttribute('aria-pressed', now ? 'true':'false');
          btn.textContent = now ? 'â™¥':'â™¡';
        });
      });
    }

    renderHome(EVENTS);
  </script>
</body>
</html>
