<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Spondle â€“ Find events near you</title>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <link rel="stylesheet" href="styles.css?v=17">
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand"><span class="logo"></span><a href="index.html">Spondle</a></div>
      <div class="actions">
        <a class="btn primary" href="events_v27.html">Explore Events</a>
        <a class="btn" href="favourites.html">Favourites <span class="badge" data-fav-count style="display:none">0</span></a>
        <a class="btn" href="organisers.html">For Organisers</a>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="section hero-card">
      <h1>Find something to do</h1>
      <p class="tagline">Gigs, comedy, markets, film nights, sports and more â€” all across the UK.</p>
      <div class="cta-row">
        <a class="btn primary" href="events_v27.html">Browse all events</a>
        <a class="btn" href="organisers.html">Add your event</a>
      </div>
    </section>

    <section class="section">
      <h2>Popular this week</h2>
      <div class="grid" id="homeGrid"></div>
    </section>
  </main>

  <footer>
    <div class="container foot"><div>Â© <span id="y"></span> Spondle â€¢ home build v27</div></div>
  </footer>

  <script>document.getElementById('y').textContent = new Date().getFullYear();</script>
  <script src="favs.js?v=17"></script>
  <script>
    // Show first 12 sample events (same dataset as events page)
    const EVENTS = [
      { id:"sample-1", title:"The Harbourside Sessions", city:"Bristol", dateLabel:"12 Sep", venue:"The Louisiana", time:"19:30â€“22:30", price:"Free Entry", category:"Live Music" },
      { id:"sample-2", title:"Southbank Jazz Quartet", city:"London", dateLabel:"13 Sep", venue:"Southbank Centre", time:"20:00â€“22:00", price:"Â£16", category:"Live Music" },
      { id:"sample-3", title:"Riverside Street Food", city:"Cardiff", dateLabel:"15 Sep", venue:"Market Square", time:"11:00â€“17:00", price:"Family", category:"Community" },
      { id:"sample-4", title:"Craft Beer Festival", city:"Leeds", dateLabel:"18 Sep", venue:"City Brewery Hall", time:"12:00â€“23:00", price:"Â£20", category:"Food & Drink" },
      { id:"sample-5", title:"Friday Night Laughs", city:"Manchester", dateLabel:"14 Sep", venue:"The Comedy Store", time:"20:00â€“22:00", price:"Â£14", category:"Comedy" },
      { id:"sample-6", title:"Outdoor Cinema Night", city:"Brighton", dateLabel:"22 Sep", venue:"Madeira Drive", time:"20:30â€“23:00", price:"Â£10", category:"Film" },
      { id:"sample-7", title:"Tech Meetup & Networking", city:"Birmingham", dateLabel:"25 Sep", venue:"TechHub Central", time:"18:00â€“21:00", price:"Free", category:"Networking" },
      { id:"sample-8", title:"Charity Fun Run 5K", city:"Glasgow", dateLabel:"27 Sep", venue:"Kelvingrove Park", time:"09:00â€“12:00", price:"Â£15 Donation", category:"Sports" },
      { id:"sample-9", title:"Open Mic Poetry Night", city:"Liverpool", dateLabel:"30 Sep", venue:"The Verse Bar", time:"19:00â€“22:00", price:"Free Entry", category:"Arts & Culture" },
      { id:"sample-10", title:"Vintage Vinyl Market", city:"London", dateLabel:"20 Sep", venue:"Camden Market", time:"10:00â€“18:00", price:"Free Entry", category:"Market" },
      { id:"sample-11", title:"Acoustic Sessions at The Fleece", city:"Bristol", dateLabel:"21 Sep", venue:"The Fleece", time:"19:00â€“22:00", price:"Â£8", category:"Live Music" },
      { id:"sample-12", title:"Family Science Day", city:"Manchester", dateLabel:"28 Sep", venue:"Science and Industry Mus.", time:"10:00â€“16:00", price:"Â£6", category:"Community" }
    ];

    const homeGrid = document.getElementById('homeGrid');
    homeGrid.innerHTML = EVENTS.map(ev => `
      <article class="card">
        <a href="event.html?id=${ev.id}" style="display:block;color:inherit">
          <div class="thumb"><span class="badge">${ev.city} â€¢ ${ev.dateLabel}</span> ðŸŽ« ${ev.category}</div>
          <div class="content">
            <h3>${ev.title}</h3>
            <p class="meta">${ev.venue}${ev.time ? " â€¢ " + ev.time : ""}</p>
            <div class="row"><span class="chip">${ev.price}</span></div>
          </div>
        </a>
        <button class="fav-overlay" data-fav="${ev.id}" aria-pressed="${Favs.has(ev.id)?"true":"false"}" title="Save">${Favs.has(ev.id)?"â™¥":"â™¡"}</button>
      </article>
    `).join('');

    homeGrid.querySelectorAll('button[data-fav]').forEach(btn=>{
      btn.addEventListener('click',(e)=>{
        e.preventDefault(); e.stopPropagation();
        const id = btn.getAttribute('data-fav');
        const now = Favs.toggle(id);
        btn.setAttribute('aria-pressed', now ? "true":"false");
        btn.textContent = now ? "â™¥":"â™¡";
      });
    });
  </script>
</body>
</html>
