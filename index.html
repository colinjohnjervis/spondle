<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Spondle — Discover what’s on near you</title>

  <!-- Tailwind build (your existing CSS) -->
  <link rel="stylesheet" href="app.v15.css" />

  <!-- PWA friendly color -->
  <meta name="theme-color" content="#0b0f14" />

  <style>
    /* Drawer & backdrop transitions—kept tiny & independent of Tailwind */
    .drawer {
      transition: transform 240ms cubic-bezier(.2,.8,.2,1);
      will-change: transform;
    }
    .backdrop {
      transition: opacity 180ms ease;
    }
    /* Prevent body scroll when drawer is open */
    .no-scroll { overflow: hidden; }
  </style>
</head>

<body class="bg-slate-950 text-slate-100 antialiased selection:bg-blue-500/30">
  <!-- Header -->
  <header class="sticky top-0 z-40 bg-slate-950/80 backdrop-blur supports-[backdrop-filter]:bg-slate-950/60 border-b border-slate-800">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 py-3 flex items-center justify-between">
      <!-- Brand -->
      <a href="index.html" class="inline-flex items-center gap-2">
        <span class="size-3 rounded-full bg-emerald-400 shadow-[0_0_12px_#34d39980]"></span>
        <span class="font-semibold text-xl tracking-tight">Spondle</span>
      </a>

      <!-- Burger -->
      <button id="burgerBtn"
        class="inline-flex items-center justify-center rounded-xl border border-slate-700/60 bg-slate-800/60 hover:bg-slate-700/70
               px-3.5 py-2.5 text-slate-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400"
        aria-controls="mobileDrawer" aria-expanded="false" aria-label="Open menu">
        <!-- 3-line icon -->
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
  </header>

  <!-- Backdrop -->
  <div id="drawerBackdrop"
       class="backdrop fixed inset-0 z-40 bg-black/60 opacity-0 pointer-events-none"></div>

  <!-- Left Drawer -->
  <aside id="mobileDrawer"
         class="drawer fixed inset-y-0 left-0 z-50 w-[86%] max-w-xs translate-x-[-100%]
                bg-slate-900 border-r border-slate-800 shadow-2xl">
    <div class="h-full flex flex-col">
      <!-- Drawer header -->
      <div class="px-4 pt-4 pb-3 flex items-center justify-between border-b border-slate-800">
        <div class="flex items-center gap-2">
          <span class="size-3 rounded-full bg-emerald-400"></span>
          <span class="font-semibold">Spondle</span>
        </div>
        <button id="closeDrawer"
          class="rounded-lg p-2 text-slate-300 hover:bg-slate-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400"
          aria-label="Close menu">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6 6l12 12M18 6l-12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>

      <!-- Drawer nav -->
      <nav class="p-2 space-y-1 overflow-y-auto">
        <a href="events.html"
           class="block rounded-xl px-3.5 py-3 text-slate-100 hover:bg-slate-800/70">Explore events</a>
        <a href="favourites.html"
           class="block rounded-xl px-3.5 py-3 text-slate-100 hover:bg-slate-800/70">Favourites</a>
        <a href="organiser-dashboard.html"
           class="block rounded-xl px-3.5 py-3 text-slate-100 hover:bg-slate-800/70">For organisers</a>

        <div class="h-px my-2 bg-slate-800"></div>

        <a href="login.html"
           class="block rounded-xl px-3.5 py-3 text-slate-100 hover:bg-slate-800/70">Sign in / Account</a>

        <div class="h-px my-2 bg-slate-800"></div>

        <!-- Quick links -->
        <a href="#latest" class="block rounded-xl px-3.5 py-3 text-slate-100 hover:bg-slate-800/70">Latest events</a>
        <a href="#popular" class="block rounded-xl px-3.5 py-3 text-slate-100 hover:bg-slate-800/70">Popular right now</a>
      </nav>

      <div class="mt-auto p-4 text-xs text-slate-400 border-t border-slate-800">
        © 2025 Spondle
      </div>
    </div>
  </aside>

  <!-- Main -->
  <main class="max-w-5xl mx-auto px-4 sm:px-6 py-6">
    <!-- Hero -->
    <section class="rounded-3xl bg-gradient-to-br from-slate-800/70 to-slate-900/70 border border-slate-800 shadow-[0_10px_30px_-12px_rgba(0,0,0,.6)] p-6 sm:p-8">
      <h1 class="text-3xl sm:text-4xl font-extrabold tracking-tight">
        Discover what’s on near you
      </h1>
      <p class="mt-3 text-slate-300 max-w-2xl">
        Gigs, comedy, food markets, film nights, community events and more — across the UK.
      </p>
      <div class="mt-6 flex gap-3">
        <a href="events.html"
           class="inline-flex items-center justify-center rounded-2xl bg-gradient-to-r from-sky-400 to-blue-500
                  px-5 py-3 font-semibold text-slate-900 hover:opacity-90">
          Search events
        </a>
        <a href="organiser-dashboard.html"
           class="inline-flex items-center justify-center rounded-2xl border border-slate-700 bg-slate-800
                  px-5 py-3 font-semibold text-slate-100 hover:bg-slate-700">
          List your event
        </a>
      </div>
    </section>

    <!-- Latest -->
    <section id="latest" class="mt-10">
      <h2 class="text-2xl sm:text-3xl font-bold">Latest events</h2>

      <!-- Events list container (JS fills this) -->
      <div id="events-list" class="mt-6 grid gap-5 sm:gap-6">
        <!-- Cards are injected here by your existing script -->
      </div>

      <!-- Load more -->
      <div class="mt-6 flex justify-center">
        <button id="load-more"
          class="rounded-2xl border border-slate-700 bg-slate-800 px-5 py-3 font-semibold text-slate-100
                 hover:bg-slate-700 disabled:opacity-40 disabled:cursor-not-allowed">
          Load more
        </button>
      </div>
    </section>
  </main>

  <!-- Your existing app logic (renders cards, hearts, load more, etc.) -->
  <script src="auth.js" defer></script>
  <script src="app.v15.js" defer></script>

  <!-- Drawer script (tiny, independent) -->
  <script>
    (function () {
      const body = document.body;
      const burger = document.getElementById('burgerBtn');
      const drawer = document.getElementById('mobileDrawer');
      const backdrop = document.getElementById('drawerBackdrop');
      const closeBtn = document.getElementById('closeDrawer');

      function openDrawer() {
        drawer.style.transform = 'translateX(0)';
        backdrop.classList.remove('pointer-events-none');
        backdrop.style.opacity = '1';
        body.classList.add('no-scroll');
        burger.setAttribute('aria-expanded', 'true');
      }

      function closeDrawer() {
        drawer.style.transform = 'translateX(-100%)';
        backdrop.style.opacity = '0';
        // wait for opacity transition to finish before disabling pointer events
        setTimeout(() => backdrop.classList.add('pointer-events-none'), 180);
        body.classList.remove('no-scroll');
        burger.setAttribute('aria-expanded', 'false');
      }

      burger.addEventListener('click', openDrawer);
      closeBtn.addEventListener('click', closeDrawer);
      backdrop.addEventListener('click', closeDrawer);

      window.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeDrawer();
      });
    })();
  </script>
</body>
</html>
